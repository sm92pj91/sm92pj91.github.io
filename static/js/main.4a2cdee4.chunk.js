/*! For license information please see main.4a2cdee4.chunk.js.LICENSE.txt */
(this["webpackJsonpbn-web-app"]=this["webpackJsonpbn-web-app"]||[]).push([[0],{1115:function(e,t,n){},1116:function(e,t,n){},1117:function(e,t,n){},1118:function(e,t,n){},1148:function(e,t,n){},1150:function(e,t,n){},1151:function(e,t,n){},1152:function(e,t,n){},1153:function(e,t,n){},1154:function(e,t,n){"use strict";n.r(t);for(var a=n(7),c=n(0),i=n.n(c),s=n(13),r=n.n(s),o=(n(593),n(30)),l=n(33),d=n(38),u=n(37),j=(n(594),n(1177)),h=n(125),b=n(89),p=n(361),g=n(43),m=function(){function e(){Object(o.a)(this,e),this.podcastsMock=[{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "},{title:"Jordan Peterson",description:"A really engaging and indepth discussion about things of nature "}]}return Object(l.a)(e,[{key:"getEpisodes",value:function(e){return this.podcastsMock}},{key:"getPodcasts",value:function(e){return this.podcastsMock}}]),e}(),O=n(1174),f=n(1167),x=n(2),C=[],v=0;v<23;v++)C.push({href:"http://ant.design",title:"ant design part ".concat(v),avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",description:"Ant Design, a design language for background applications, is refined by Ant UED Team.",content:"We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently."});var y=function(e){var t=e.type,n=e.text;return Object(x.jsxs)("span",{children:[Object(x.jsx)(g.a,{type:t,style:{marginRight:8}}),n]})},I=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).searchService=new m,e.state={modal2Visible:!1},e}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.setState({result:this.searchService.getEpisodes("something")})}},{key:"showEpisodeDetails",value:function(e){}},{key:"setModal2Visible",value:function(e,t){this.setState({modal2Visible:e})}},{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(O.a,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:3},dataSource:C,footer:Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"ant design"})," footer part"]}),renderItem:function(e){return Object(x.jsxs)(O.a.Item,{actions:[Object(x.jsx)(y,{type:"star-o",text:"156"},"list-vertical-star-o"),Object(x.jsx)(y,{type:"like-o",text:"156"},"list-vertical-like-o"),Object(x.jsx)(y,{type:"message",text:"2"},"list-vertical-message")],extra:Object(x.jsx)("img",{width:272,alt:"logo",src:"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png"}),children:[Object(x.jsx)(O.a.Item.Meta,{avatar:Object(x.jsx)(f.a,{src:e.avatar}),title:Object(x.jsx)("a",{href:e.href,children:e.title}),description:e.description}),e.content]},e.title)}})})}}]),n}(i.a.Component),S=n(1175),A=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).searchService=new m,e}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsx)(S.a,{loading:!0,title:"Card title",style:{width:"34%"},children:"Whatever content"})})}}]),n}(i.a.Component),N=p.a.TabPane,E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:Object(x.jsxs)(p.a,{defaultActiveKey:"1",children:[Object(x.jsx)(N,{tab:Object(x.jsxs)("span",{children:[Object(x.jsx)(g.a,{type:"switcher"}),"Episodes"]}),children:Object(x.jsx)(I,{})},"1"),Object(x.jsx)(N,{tab:Object(x.jsxs)("span",{children:[Object(x.jsx)(g.a,{type:"bulb"}),"Podcasts"]}),children:Object(x.jsx)(A,{})},"2")]})})}}]),n}(i.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{children:"Add RSS feed"})}}]),n}(i.a.Component),k=n(23),R={env:"",BASE_URL:"https://api.challengeacceptedapp.com/private-admin-prod",IMAGE_BASE:"https://challenge-accepted-mob.s3.eu-west-2.amazonaws.com/challenges-prod",CAROUSEL_BASE:"https://challenge-accepted-mob.s3.eu-west-2.amazonaws.com/carousel-prod"},w=Object(a.a)({},R),L=n(1178),D=n(546),F=n(1168),U=n(131),H=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=Object(x.jsxs)("div",{children:[Object(x.jsx)("i",{className:"fa fa-globe"}),Object(x.jsx)("b",{className:"caret"}),Object(x.jsx)("span",{className:"notification",children:"5"}),Object(x.jsx)("p",{className:"hidden-lg hidden-md",children:"Notification"})]});return Object(x.jsxs)("div",{children:[Object(x.jsxs)(L.a,{children:[Object(x.jsxs)(D.a,{eventKey:1,href:"#",children:[Object(x.jsx)("i",{className:"fa fa-dashboard"}),Object(x.jsx)("p",{className:"hidden-lg hidden-md",children:"Dashboard"})]}),Object(x.jsxs)(F.a,{eventKey:2,title:e,noCaret:!0,id:"basic-nav-dropdown",children:[Object(x.jsx)(U.a.Item,{eventKey:2.1,children:"Notification 1"}),Object(x.jsx)(U.a.Item,{eventKey:2.2,children:"Notification 2"}),Object(x.jsx)(U.a.Item,{eventKey:2.3,children:"Notification 3"}),Object(x.jsx)(U.a.Item,{eventKey:2.4,children:"Notification 4"}),Object(x.jsx)(U.a.Item,{eventKey:2.5,children:"Another notifications"})]}),Object(x.jsxs)(D.a,{eventKey:3,href:"#",children:[Object(x.jsx)("i",{className:"fa fa-search"}),Object(x.jsx)("p",{className:"hidden-lg hidden-md",children:"Search"})]})]}),Object(x.jsxs)(L.a,{pullRight:!0,children:[Object(x.jsx)(D.a,{eventKey:1,href:"#",children:"Account"}),Object(x.jsxs)(F.a,{eventKey:2,title:"Dropdown",id:"basic-nav-dropdown-right",children:[Object(x.jsx)(U.a.Item,{eventKey:2.1,children:"Action"}),Object(x.jsx)(U.a.Item,{eventKey:2.2,children:"Another action"}),Object(x.jsx)(U.a.Item,{eventKey:2.3,children:"Something"}),Object(x.jsx)(U.a.Item,{eventKey:2.4,children:"Another action"}),Object(x.jsx)(U.a.Item,{eventKey:2.5,children:"Something"}),Object(x.jsx)(U.a.Item,{divider:!0}),Object(x.jsx)(U.a.Item,{eventKey:2.5,children:"Separated link"})]}),Object(x.jsx)(D.a,{eventKey:3,href:"#",children:"Log out"})]})]})}}]),n}(c.Component),G=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={width:window.innerWidth},a}return Object(l.a)(n,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth})}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{id:"sidebar",className:"sidebar","data-color":this.props.color,"data-image":this.props.image,children:[Object(x.jsxs)("div",{className:"logo",children:[Object(x.jsx)("a",{className:"simple-text logo-mini",href:"/challenges/view",children:Object(x.jsx)("div",{className:"logo-img",children:Object(x.jsx)("img",{src:"data:image/png;base64,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",alt:"logo_image"})})}),Object(x.jsxs)("a",{className:"simple-text logo-normal",href:"/challenges/view",children:["Challenge CMS ",w.env]})]}),Object(x.jsx)("div",{className:"sidebar-wrapper",children:Object(x.jsxs)("ul",{className:"nav",children:[this.state.width<=991?Object(x.jsx)(H,{}):null,this.props.routes.map((function(t,n){return t.redirect?null:Object(x.jsx)("li",{style:{width:"100%"},className:t.upgrade?"active active-pro":e.activeRoute(t.layout+t.path),children:Object(x.jsxs)(b.b,{to:t.layout+t.path,className:"nav-link",activeClassName:"active",children:[Object(x.jsx)("i",{className:t.icon}),Object(x.jsx)("p",{children:t.name})]})},n)}))]})})]})}}]),n}(c.Component),P=(n(667),{aws_app_analytics:"enable",aws_user_pools:"enable",aws_user_pools_id:"eu-west-1_K1L1Dr9i3",aws_user_pools_mfa_type:"OFF",aws_user_pools_web_client_id:"39upoqrgro0kenlh0mglilijcm",aws_user_settings:"enable"}),B=n(1171),W=n(1169),z=n(551),M=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"card"+(this.props.plain?" card-plain":""),children:[Object(x.jsxs)("div",{className:"header"+(this.props.hCenter?" text-center":""),children:[Object(x.jsx)("h4",{className:"title",children:this.props.title}),Object(x.jsx)("p",{className:"category",children:this.props.category})]}),Object(x.jsxs)("div",{className:"content"+(this.props.ctAllIcons?" all-icons":"")+(this.props.ctTableFullWidth?" table-full-width":"")+(this.props.ctTableResponsive?" table-responsive":"")+(this.props.ctTableUpgrade?" table-upgrade":""),children:[this.props.content,Object(x.jsxs)("div",{className:"footer",children:[this.props.legend,null!=this.props.stats?Object(x.jsx)("hr",{}):"",Object(x.jsxs)("div",{className:"stats",children:[Object(x.jsx)("i",{className:this.props.statsIcon})," ",this.props.stats]})]})]})]})}}]),n}(c.Component),V=M,Y=n(269),K=n(549),_=n(550),J=n(552);function Q(e){var t=e.label,n=Object(Y.a)(e,["label"]);return Object(x.jsxs)(K.a,{children:[Object(x.jsx)(_.a,{children:t}),Object(x.jsx)(J.a,Object(a.a)({},n))]})}var q=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.ncols.length;t++)e.push(Object(x.jsx)("div",{className:this.props.ncols[t],children:Object(x.jsx)(Q,Object(a.a)({},this.props.properties[t]))},t));return Object(x.jsx)(W.a,{children:e})}}]),n}(c.Component),X=n(389),Z=n(1173),$=n(1176),ee=n(355),te=n.n(ee),ne=n(553),ae=new(n(126).a)("AuthService"),ce=function e(){Object(o.a)(this,e)};ce.CHANNEL="auth_channel",ce.AUTH_EVENTS={REGISTER:"register",REGISTER_CONFIRM:"register_confirm",LOGIN:"login",PASSWORD_RESET:"forgot_password_1",PASSWORD_RESET_2:"forgot_password_2",PASSWORD_CHANGE:"password_change",SIGN_OUT:"sign_out"},ce.register=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z.a.signUp({username:t,password:n}).then((function(e){ae.info("Registering "+t),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.REGISTER,success:!0,message:"",username:t,password:n},ce.CHANNEL)})).catch((function(e){ae.info("Error: "+JSON.stringify(e)),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.REGISTER,success:!1,message:e.message,username:t,password:n},ce.CHANNEL)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce.resendConfirmationCode=function(e){Z.a.resendSignUp(e).then((function(){ae.info("code resent successfully")})).catch((function(e){ae.info(e)}))},ce.login=function(e,t){Z.a.signIn(e,t).then((function(t){ae.info("login user "+JSON.stringify(t)),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.LOGIN,success:!0,message:"",username:e,user:t},ce.CHANNEL)})).catch((function(e){ae.warn("Couldn't login: ",e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.LOGIN,success:!1,message:e.message,error:e},ce.CHANNEL)}))},ce.confirmSignUp=function(e,t){Z.a.confirmSignUp(e,t,{forceAliasCreation:!0}).then((function(t){ae.info("Registration confirmed: "+JSON.stringify(t)),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.REGISTER_CONFIRM,success:!0,message:"",username:e,user:t},ce.CHANNEL)})).catch((function(e){ae.error(e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.REGISTER_CONFIRM,success:!1,message:e.message},ce.CHANNEL)}))},ce.signOut=function(){Z.a.signOut().then((function(e){ae.info(e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.SIGN_OUT,success:!0,message:"",data:e},ce.CHANNEL)})).catch((function(e){X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.SIGN_OUT,success:!1,message:""},ce.CHANNEL)}))},ce.changePassword=function(e,t){Z.a.currentAuthenticatedUser().then((function(n){return Z.a.changePassword(n,e,t)})).then((function(e){ae.info(e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_CHANGE,success:!0,message:"",data:e},ce.CHANNEL)})).catch((function(e){return ae.info("Error: "+e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_CHANGE,success:!1,message:e.message},ce.CHANNEL),e}))},ce.passwordChallenge=function(e,t,n){Z.a.signIn(e,t).then((function(e){return Z.a.completeNewPassword(e,n,[])})).then((function(e){ae.info(e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_CHANGE,success:!0,message:"",data:e},ce.CHANNEL)})).catch((function(e){return ae.info("Error: "+e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_CHANGE,success:!1,message:e.message},ce.CHANNEL),e}))},ce.forgotPassword=function(e){Z.a.forgotPassword(e).then((function(t){ae.info("Password reset: "+t),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_RESET,success:!0,message:"",data:t,username:e},ce.CHANNEL)})).catch((function(t){return ae.info(t),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_RESET,success:!1,message:t.message,username:e},ce.CHANNEL),t}))},ce.forgotPasswordSetNew=function(e,t,n){Z.a.forgotPasswordSubmit(e,t,n).then((function(t){ae.info("Changed password: "+t),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_RESET_2,success:!0,username:e,password:n,message:"",data:t},ce.CHANNEL)})).catch((function(e){return ae.error("Couldn't change password: ",e),X.a.dispatch(ce.CHANNEL,{event:ce.AUTH_EVENTS.PASSWORD_RESET_2,success:!1,message:e.message,data:e},ce.CHANNEL),e}))};var ie=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={loggedIn:!1,userdata:{}},a.onHubCapsule=function(e){var t=e.channel,n=e.payload;t===ce.CHANNEL&&n.event===ce.AUTH_EVENTS.LOGIN?n.success&&a.setState({loggedIn:!0,username:n.username,firstname:n.user.attributes.given_name,userdata:n.user.attributes}):t===ce.CHANNEL&&n.event===ce.AUTH_EVENTS.SIGN_OUT&&n.success&&(a.setState({loggedIn:!1,username:""}),$.a.open({type:"info",message:"You have logged out",duration:10}))},X.a.listen(ce.CHANNEL,a.onHubCapsule,"MyListener"),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;Z.a.currentAuthenticatedUser({bypassCache:!0}).then((function(t){e.setState({firstname:t.attributes.given_name,userdata:t.attributes,username:t.username}),e.setState({loggedIn:!0}),e.setState(),console.log(t)})).catch((function(t){e.setState({loggedIn:!1})}))}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"content",children:Object(x.jsx)(B.a,{fluid:!0,children:Object(x.jsx)(W.a,{children:Object(x.jsx)(z.a,{md:12,children:Object(x.jsx)(M,{title:"Profile",content:Object(x.jsxs)("form",{children:[Object(x.jsx)(q,{ncols:["col-md-6","col-md-4"],properties:[{label:"Username",type:"text",bsClass:"form-control",placeholder:"Username",defaultValue:this.state.username},{label:"Email address",type:"email",bsClass:"form-control",placeholder:"Email",defaultValue:this.state.userdata.email}]}),Object(x.jsx)(q,{ncols:["col-md-6","col-md-6"],properties:[{label:"First name",type:"text",bsClass:"form-control",placeholder:"First name",defaultValue:this.state.firstname},{label:"Last name",type:"text",bsClass:"form-control",placeholder:"Last name",defaultValue:this.state.userdata.family_name}]}),Object(x.jsx)("div",{className:"clearfix"})]})})})})})})}}]),n}(c.Component),se=(n(689),n(101)),re=n.n(se),oe=n(68),le=n.n(oe),de=[{dataField:"name",text:"Name",sort:!0,headerStyle:function(e,t){return{width:"300px"}}},{dataField:"description",text:"Description",sort:!0},{dataField:"type",text:"Type",sort:!0},{dataField:"categories",text:"Categories",sort:!0},{dataField:"active",text:"Active",sort:!0},{dataField:"liveAt",text:"Live At",sort:!0},{dataField:"updatedAt",text:"Updated At",sort:!0},{dataField:"createdAt",text:"Created At",sort:!0},{dataField:"id",text:"ID",sort:!0}],ue=oe.Search.SearchBar,je=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={tdChallenges:[],redirect:!1,redirectChallenge:"",redirectHome:!1},e.rowEvents={onClick:function(t,n,c){e.setState(Object(a.a)(Object(a.a)({},e.state),{},{redirectChallenge:n.id})),e.setRedirect(),console.log(n.id)}},e.setRedirect=function(){e.setState({redirect:!0})},e.setRedirectHome=function(){e.setState({redirectHome:!0})},e.renderRedirect=function(){if(e.state.redirect)return Object(x.jsx)(h.a,{to:"/challenges/create/"+e.state.redirectChallenge})},e.renderRedirectHome=function(){if(e.state.redirectHome)return Object(x.jsx)(h.a,{to:"/login"})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;Z.a.currentSession({bypassCache:!0}).then((function(){fetch(w.BASE_URL+"/challenge").then((function(e){return e.json()})).then((function(t){e.setState({tdChallenges:t.sort((function(e,t){return Date.parse(t.UpdatedAt)-Date.parse(e.UpdatedAt)})).map((function(t){return e.createChallengeData(t)}))})})).catch(console.log)})).catch((function(t){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),e.setRedirectHome(!0)}))}},{key:"createChallengeData",value:function(e){return{id:e.ChallengeId,name:e.Name,description:e.Description,type:e.ChallengeType,categories:e.Categories.toString(),active:e.IsActive,liveAt:e.LiveAt,updatedAt:e.UpdatedAt,createdAt:e.CreatedAt}}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"content",children:[Object(x.jsxs)("div",{children:[this.renderRedirect(),this.renderRedirectHome()]}),Object(x.jsx)(B.a,{fluid:!0,children:Object(x.jsx)(W.a,{children:Object(x.jsx)(z.a,{md:12,children:Object(x.jsx)(V,{title:"",category:"",ctTableFullWidth:!1,ctTableResponsive:!0,content:Object(x.jsx)(le.a,{striped:!0,hover:!0,keyField:"id",data:this.state.tdChallenges,columns:de,rowEvents:this.rowEvents,wrapperClasses:"table-responsive",search:!0,children:function(t){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{className:"title",children:["Challenges\xa0\xa0\xa0\xa0",Object(x.jsx)(ue,Object(a.a)({},t.searchProps))]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"tableStyle",children:Object(x.jsx)(re.a,Object(a.a)(Object(a.a)({},t.baseProps),{},{rowEvents:e.rowEvents}))})]})}})})})})})]})}}]),n}(c.Component),he=n(35),be=n(34),pe=n(39),ge=n(10),me=n(87),Oe=n(174),fe=n(64),xe=n(562),Ce=n.n(xe),ve=(n(740),n(574)),ye=(n(741),function(e){var t,n,c=e.onDrop,i=e.accept,s=e.title,r=Object(ve.a)({onDrop:c,accept:i}),o=r.getRootProps,l=r.getInputProps,d=r.isDragActive;return Object(x.jsxs)("div",Object(a.a)(Object(a.a)({className:(t="dropzone",n=d,n?"".concat(t," ").concat(t,"-active"):t)},o()),{},{children:[Object(x.jsx)("input",Object(a.a)({className:"dropzone-input"},l())),Object(x.jsx)("div",{className:"text-center",children:d?Object(x.jsx)("p",{className:"dropzone-content",children:"Release to drop the files here"}):Object(x.jsx)("p",{className:"dropzone-content",children:s})})]}))}),Ie=n(356),Se=n.n(Ie),Ae=n(564),Ne=["London","Travel","Health & Fitness","Food & Drink","Books","Film & TV","Customisable","Sports","Arts & Culture","Daily Life","Music","30 day challenges","Theatre","Get Creative","Productivity","At Home","Wellbeing","For Kids","Health","Fitness","Mindfulness","Yoga","Workouts","Exercise","Walks","Reading","Football","Extreme sports","Basketball","Cricket","Tennis","Film","TV","Gigs","Global travel","UK Travel","Exploring","Sightseeing","Food","Drink","Beer","Entertain Kids","Eating out","Golf","Indoor Entertainment","Gaming","Green","Christmas","Charity"],Ee=n(559),Te=n(560),ke=n.n(Te),Re=n(77),we=n.n(Re),Le=n(561),De=n.n(Le),Fe=function(e){var t=Object(c.useState)(!1),n=Object(be.a)(t,1)[0],s=Object(c.useState)(e.match.params.id),r=Object(be.a)(s,2),o=r[0],l=r[1],d=Object(c.useState)(!1),u=Object(be.a)(d,2),j=u[0],b=u[1],p=Object(c.useState)(!1),g=Object(be.a)(p,2),m=g[0],O=g[1],f=i.a.createRef(),C=i.a.createRef(),v=i.a.createRef(),y=i.a.createRef(),I=Object(c.useState)({ChallengeId:"",Name:"",Description:"",ChallengeType:"BASIC",ProgressType:"fraction",IsActive:!0,IsReminder:!0,IsSearchable:!1,LiveAt:new Date,ChallengeItems:[{item:"",id:we.a.generate(10)}],CategoryItems:[],Interval:"DAILY",Image:"",Categories:[]}),S=Object(be.a)(I,2),A=S[0],N=S[1],E=Object(c.useState)([{item:"",id:we.a.generate(10)}]),T=Object(be.a)(E,2),k=T[0],R=T[1],L=Object(c.useState)([{Category:"",ChallengeItems:[{item:"",id:we.a.generate(10)}]}]),D=Object(be.a)(L,2),F=D[0],U=D[1],H=Object(c.useState)([]),G=Object(be.a)(H,2),P=G[0],B=G[1],W=i.a.createRef();Z.a.currentSession({bypassCache:!0}).then((function(e){o&&!j&&fetch(w.BASE_URL+"/challenge/"+o,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.getIdToken().getJwtToken()}}).then((function(e){b(!0),200===e.status?e.json().then((function(e){l(e.ChallengeId),ke.a.encodeFromURL(w.IMAGE_BASE+"/"+e.ChallengeId+"/main.jpg").then((function(e){"data:application/octet-stream;base64,"!==e&&(console.log(e),B([{id:Se()(),src:e}]))})),"CATEGORIES"===e.ChallengeType?N(Object(a.a)(Object(a.a)({},e),{},{ChallengeItems:[],LiveAt:new Date(e.LiveAt)})):N(Object(a.a)(Object(a.a)({},e),{},{CategoryItems:[],LiveAt:new Date(e.LiveAt)})),console.log(A),document.querySelector('[name="challengeName"]').value=e.Name,document.querySelector('[name="Description"]').value=e.Description,"ENTERASYOUGO"===e.ChallengeType&&(document.querySelector('[name="Placeholder"]').value=e.Placeholder,document.querySelector('[name="InputCount"]').value=e.InputCount)})).catch((function(e){return console.log(e)})):alert("Error, Challenge not found")})).catch((function(e){return console.log(e)}))})).catch((function(e){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),O(!0)}));var M=Object(c.useCallback)((function(e){e.map((function(e){var t=new FileReader;return t.onload=function(e){B([{id:Se()(),src:e.target.result}])},t.readAsDataURL(e),e}))}),[]),V=Object(c.useCallback)((function(e){e.map((function(e){var t=new FileReader;return t.onload=function(e){Y(e.target.result)},t.readAsBinaryString(e),e}))}),[A]),Y=function(e){console.log(A);var t=De.a.parse(e);if("Category"===e.split("\n")[0].split(",")[0]){var n=[],c="",i={Category:"",ChallengeItems:[]};t.data.forEach((function(e,t){if(t>0){var a=K(e.slice(2));console.log(a),e[0].trim()!==c&&(""!==c&&n.push(i),c=e[0].trim(),i={Category:e[0].trim(),ChallengeItems:[]}),i=a?{Category:i.Category,ChallengeItems:i.ChallengeItems.concat({item:e[1],id:we.a.generate(10),info:a})}:{Category:i.Category,ChallengeItems:i.ChallengeItems.concat({item:e[1],id:we.a.generate(10)})}}})),n.push(i),console.log(n),N(Object(a.a)(Object(a.a)({},A),{},{ChallengeType:"CATEGORIES",CategoryItems:n,ChallengeItems:[]}))}else{console.log("here");var s=[];t.data.forEach((function(e,t){if(e.length>0&&t>0){var n=K(e.slice(1));n?s.push({item:e[0],id:we.a.generate(10),info:n}):s.push({item:e[0],id:we.a.generate(10)})}})),N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:[].concat(s)})),console.log(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:[].concat(s)}))}},K=function(e){if(e.join().length>9){var t=e,n={};return t[0].length>0&&(n.Description=t[0]),t[1].length>0&&(n.URL=t[1]),t[2].length>0&&(n.URLText=t[2]),t[3].length>0&&(n.MapsLink=t[3]),t[4].length>0&&t[5].length&&(n.misc=n.misc?n.misc.concat({index:0,key:t[4],value:t[5]}):[{index:0,key:t[4],value:t[5]}]),t[6].length>0&&t[7].length&&(n.misc=n.misc?n.misc.concat({index:1,key:t[6],value:t[7]}):[{index:1,key:t[6],value:t[7]}]),t[8].length>0&&t[9].length&&(n.misc=n.misc?n.misc.concat({index:2,key:t[8],value:t[9]}):[{index:2,key:t[8],value:t[9]}]),n}return null},_=function(e){N(Object(a.a)(Object(a.a)({},A),{},{Interval:e}))},J=function(){N(Object(a.a)(Object(a.a)({},A),{},{Image:""})),B([])},Q=function(e){return function(){0!==e&&N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:A.ChallengeItems.filter((function(t,n){return e!==n}))}))}},q=function(e){return function(){N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:[].concat(Object(he.a)(A.ChallengeItems.slice(0,e+1)),[{item:"",id:we.a.generate(10)}],Object(he.a)(A.ChallengeItems.slice(e+1)))}))}},X=function(e){return function(){0!==e&&N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:[].concat(Object(he.a)(A.ChallengeItems.slice(0,e-1)),[A.ChallengeItems[e],A.ChallengeItems[e-1]],Object(he.a)(A.ChallengeItems.slice(e+1)))}))}},ee=function(e){return function(){e!==A.ChallengeItems.length-1&&N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:[].concat(Object(he.a)(A.ChallengeItems.slice(0,e)),[A.ChallengeItems[e+1],A.ChallengeItems[e]],Object(he.a)(A.ChallengeItems.slice(e+2)))}))}},te=function(e){return function(t){var n=A.ChallengeItems.map((function(n,c){return e!==c?n:Object(a.a)(Object(a.a)({},n),{},{item:t.target.value})}));N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:n}))}},ne=function(e,t){return function(){N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:A.CategoryItems.map((function(n,c){return e!==c?n:Object(a.a)(Object(a.a)({},n),{},{ChallengeItems:n.ChallengeItems.filter((function(e,n){return t!==n}))})}))}))}},ae=function(e,t){return function(){N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:A.CategoryItems.map((function(n,c){return e!==c?n:Object(a.a)(Object(a.a)({},n),{},{ChallengeItems:[].concat(Object(he.a)(n.ChallengeItems.slice(0,t+1)),[{item:"",id:we.a.generate(10)}],Object(he.a)(n.ChallengeItems.slice(t+1)))})}))}))}},ce=function(e,t){return function(){var n=0===t&&0!==e,c=A.CategoryItems[e].ChallengeItems[t];0===e&&0===t||N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:A.CategoryItems.map((function(i,s){return e!==s?n&&e===s+1?Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:[].concat(Object(he.a)(i.ChallengeItems),[c])}):i:0===t?1===i.ChallengeItems.length?Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:[{item:"",id:we.a.generate(10)}]}):Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:Object(he.a)(i.ChallengeItems.slice(1,i.ChallengeItems.length))}):Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:[].concat(Object(he.a)(i.ChallengeItems.slice(0,t-1)),[i.ChallengeItems[t],i.ChallengeItems[t-1]],Object(he.a)(i.ChallengeItems.slice(t+1)))})}))}))}},ie=function(e,t){return function(){var n=!1,c={};N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:A.CategoryItems.map((function(i,s){return e!==s?n&&e===s-1?Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:[c].concat(Object(he.a)(i.ChallengeItems))}):i:t===i.ChallengeItems.length-1?(n=!0,c=i.ChallengeItems[t],1===i.ChallengeItems.length?Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:[{item:"",id:we.a.generate(10)}]}):Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:Object(he.a)(i.ChallengeItems.slice(0,i.ChallengeItems.length-1))})):Object(a.a)(Object(a.a)({},i),{},{ChallengeItems:[].concat(Object(he.a)(i.ChallengeItems.slice(0,t)),[i.ChallengeItems[t+1],i.ChallengeItems[t]],Object(he.a)(i.ChallengeItems.slice(t+2)))})}))}))}},se=function(e,t){return function(n){N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:A.CategoryItems.map((function(c,i){return e!==i?c:Object(a.a)(Object(a.a)({},c),{},{ChallengeItems:[].concat(Object(he.a)(c.ChallengeItems.slice(0,t)),[Object(a.a)(Object(a.a)({},c.ChallengeItems.slice(t,t+1)[0]),{},{item:n.target.value})],Object(he.a)(c.ChallengeItems.slice(t+1)))})}))}))}},re=function(e){return function(){0!==e&&N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:A.CategoryItems.filter((function(t,n){return e!==n}))}))}},oe=function(e){return function(){N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:[].concat(Object(he.a)(A.CategoryItems.slice(0,e+1)),[{Category:"",ChallengeItems:[{item:"",id:we.a.generate(10)}]}],Object(he.a)(A.CategoryItems.slice(e+1)))}))}},le=function(e){return function(){0!==e&&N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:[].concat(Object(he.a)(A.CategoryItems.slice(0,e-1)),[A.CategoryItems[e],A.CategoryItems[e-1]],Object(he.a)(A.CategoryItems.slice(e+1)))}))}},de=function(e){return function(){e!==A.CategoryItems.length-1&&N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:[].concat(Object(he.a)(A.CategoryItems.slice(0,e)),[A.CategoryItems[e+1],A.CategoryItems[e]],Object(he.a)(A.CategoryItems.slice(e+2)))}))}},ue=function(e){return function(t){var n=A.CategoryItems.map((function(n,c){return e!==c?n:Object(a.a)(Object(a.a)({},n),{},{Category:t.target.value})}));N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:n}))}},je=Object(c.useState)(!1),xe=Object(be.a)(je,2),ve=xe[0],Ie=xe[1],Te=Object(c.useState)(!1),Re=Object(be.a)(Te,2),Le=Re[0],Fe=Re[1],Ue=Object(c.useState)(!1),He=Object(be.a)(Ue,2),Ge=He[0],Pe=He[1],Be=function(){return Ie(!1)},We=function(){return Ie(!0)},ze=Object(c.useState)({}),Me=Object(be.a)(ze,2),Ve=Me[0],Ye=Me[1],Ke=Object(c.useState)([]),_e=Object(be.a)(Ke,2),Je=_e[0],Qe=_e[1],qe=function(e){return function(t){var n=Ve;0===t.target.value.length?delete n[e]:n[e]=t.target.value,Ye(n)}},Xe=function(e){return function(t){var n=Je.find((function(t){return t.index===e}))?Object(a.a)(Object(a.a)({},Je.find((function(t){return t.index===e}))),{},{key:t.target.value}):{index:e,key:t.target.value,value:""};Je.find((function(t){return t.index===e}))?0===n.key.length&&0===n.value.length?0===Je.length?Qe([]):Qe(Je.filter((function(t){return t.index!==e}))):Qe(Je.map((function(t){return t.index===e?n:t}))):Qe(Je.concat(n))}},Ze=function(e){return function(t){var n=Je.find((function(t){return t.index===e}))?Object(a.a)(Object(a.a)({},Je.find((function(t){return t.index===e}))),{},{value:t.target.value}):{index:e,value:t.target.value,key:""};Je.find((function(t){return t.index===e}))?0===n.key.length&&0===n.value.length?0===Je.length?Qe([]):Qe(Je.filter((function(t){return t.index!==e}))):Qe(Je.map((function(t){return t.index===e?n:t}))):Qe(Je.concat(n))}};return Object(x.jsxs)(ge.a,{noValidate:!0,validated:n,onSubmit:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())e.preventDefault(),e.stopPropagation();else{var t={Categories:A.Categories,ChallengeId:A.ChallengeId,ChallengeType:A.ChallengeType,IsActive:A.IsActive,IsReminder:A.IsReminder,IsSearchable:A.IsSearchable,ProgressType:A.ProgressType,Name:f.current.value,Description:C.current.value.length>0?C.current.value:" ",LiveAt:A.LiveAt.toISOString()};P.length>0&&P[0].src.split(",").length>1&&(t.Image=P[0].src.split(",")[1]),"ENTERASYOUGO"===t.ChallengeType?(t.Placeholder=y.current.value.length>0?y.current.value:"Add Item",t.InputCount=parseInt(v.current.value)):"BASIC"===t.ChallengeType||"BASICINTERVAL"===t.ChallengeType?(t.ChallengeItems=A.ChallengeItems.map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{index:t,item:e.item,id:e.id})})),"BASICINTERVAL"===t.ChallengeType&&(t.Interval=A.Interval)):"CATEGORIES"===t.ChallengeType&&(t.CategoryItems=A.CategoryItems.map((function(e,t){return{Category:e.Category,ChallengeItems:e.ChallengeItems.map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{index:t,item:e.item,id:e.id})}))}}))),console.log(t),Z.a.currentSession({bypassCache:!0}).then((function(e){var n=w.BASE_URL+"/challenge",a="POST";t.ChallengeId&&t.ChallengeId.length>0?(a="PUT",n=w.BASE_URL+"/challenge/"+o):delete t.ChallengeId,fetch(n,{method:a,headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.getIdToken().getJwtToken()},body:JSON.stringify(t)}).then((function(e){e.ok||($.a.open({type:"error",message:"Something went wrong",description:"status: "+e.status,duration:10}),e.json().then((function(e){return $.a.open({type:"error",message:"Something went wrong",description:"error"+e,duration:10})})).catch((function(e){return alert(e)}))),e.json().then((function(e){var t="Challenge "+(o?"edited successfully":"created successfully");$.a.open({type:"success",message:t,description:"Challenge id: "+e.ChallengeId,duration:10}),console.log(e),l(e.ChallengeId)})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))})).catch((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})}))}},children:[Object(x.jsxs)(me.a,{show:ve,onHide:Be,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(x.jsx)(me.a.Header,{closeButton:!0,children:Object(x.jsxs)(me.a.Title,{children:["Added Information for ","CALENDAR"===A.ChallengeType||"ENTERASYOUGO"===A.ChallengeType?"":"CATEGORIES"===A.ChallengeType&&A.CategoryItems[Ge]?A.CategoryItems[Ge].ChallengeItems[Le]?A.CategoryItems[Ge].ChallengeItems[Le].item:"":A.ChallengeItems[Le]?A.ChallengeItems[Le].item:""]})}),Object(x.jsxs)(me.a.Body,{children:[Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"Description"})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"Description",id:"ItemDescription",name:"ItemDescription",ref:W,onChange:qe("Description"),defaultValue:Ve.Description?Ve.Description:""})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"Extra (short text)"})}),Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(z.a,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"key",id:"key0",name:"mapslink",onChange:Xe(0),defaultValue:Je.find((function(e){return 0===e.index}))?Je.find((function(e){return 0===e.index})).key:""})}),Object(x.jsx)(z.a,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"value",id:"value0",name:"mapslink",onChange:Ze(0),defaultValue:Je.find((function(e){return 0===e.index}))?Je.find((function(e){return 0===e.index})).value:""})})]}),Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(z.a,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"key",id:"key1",name:"mapslink",onChange:Xe(1),defaultValue:Je.find((function(e){return 1===e.index}))?Je.find((function(e){return 1===e.index})).key:""})}),Object(x.jsx)(z.a,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"value",id:"value1",name:"mapslink",onChange:Ze(1),defaultValue:Je.find((function(e){return 1===e.index}))?Je.find((function(e){return 1===e.index})).value:""})})]}),Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(z.a,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"key",id:"key2",name:"mapslink",onChange:Xe(2),defaultValue:Je.find((function(e){return 2===e.index}))?Je.find((function(e){return 2===e.index})).key:""})}),Object(x.jsx)(z.a,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"value",id:"value2",name:"mapslink",onChange:Ze(2),defaultValue:Je.find((function(e){return 2===e.index}))?Je.find((function(e){return 2===e.index})).value:""})})]}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"URL"})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"url",id:"url",name:"url",onChange:qe("URL"),defaultValue:Ve.URL?Ve.URL:""})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"URL Text"})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"url text",id:"urltext",name:"urltext",onChange:qe("URLText"),defaultValue:Ve.URLText?Ve.URLText:""})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"Maps link"})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"link",id:"mapslink",name:"mapslink",ref:W,onChange:qe("MapsLink"),defaultValue:Ve.MapsLink?Ve.MapsLink:""})})]}),Object(x.jsxs)(me.a.Footer,{children:[Object(x.jsx)(pe.a,{variant:"secondary",onClick:Be,children:"Close"}),Object(x.jsx)(pe.a,{variant:"primary",onClick:function(){if(Je.length>0&&Je.find((function(e){return e.key.length>0&&0===e.value.length||0===e.key.length&&e.value.length>0}))||Ve.URL&&Ve.URL.length>0&&(!Ve.URLText||0===Ve.URLText.length)||(!Ve.URL||0===Ve.URL.length)&&Ve.URLText&&Ve.URLText.length>0)$.a.open({type:"error",message:"Form not valid",description:"please check every key value pair is complete",duration:10});else{if("CATEGORIES"!==A.ChallengeType){var e=A.ChallengeItems.map((function(e,t){return Le!==t?e:(0===Object.keys(Ve).length||1===Object.keys(Ve).length&&Ve.misc)&&0===Je.length?(delete e.info,e):Object(a.a)(Object(a.a)({},e),{},{info:Object(a.a)(Object(a.a)({},Ve),{},{misc:Je})})}));console.log(e),console.log(Je),N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:e}))}else N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:A.CategoryItems.map((function(e,t){if(Ge!==t)return e;var n=e.ChallengeItems.slice(Le,Le+1)[0];return(0===Object.keys(Ve).length||1===Object.keys(Ve).length&&Ve.misc)&&0===Je.length?delete n.info:(n.info=Object(a.a)(Object(a.a)({},Ve),{},{misc:Je}),0===Je.length&&delete n.info.misc),Object(a.a)(Object(a.a)({},e),{},{ChallengeItems:[].concat(Object(he.a)(e.ChallengeItems.slice(0,Le)),[n],Object(he.a)(e.ChallengeItems.slice(Le+1)))})}))}));Ie(!1)}},children:"Save Changes"})]})]}),Object(x.jsx)("div",{children:function(){if(m)return Object(x.jsx)(h.a,{to:"/login"})}()}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsxs)(ge.a.Group,{as:z.a,md:"6",controlId:"challengeNameControl",children:[Object(x.jsx)(ge.a.Label,{children:"Challenge Name"}),Object(x.jsx)(ge.a.Control,{name:"challengeName",required:!0,type:"text",placeholder:"Challenge Name",ref:f}),Object(x.jsx)(ge.a.Control.Feedback,{type:"invalid",children:"Please provide a challenge name"})]})}),Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(ge.a.Group,{as:z.a,md:"7",children:Object(x.jsx)(ge.a.Label,{children:"Challenge Type"})}),Object(x.jsx)(ge.a.Group,{as:z.a,md:"5",children:Object(x.jsx)(ge.a.Label,{children:"Progress Type"})})]}),Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(ge.a.Group,{as:z.a,md:"7",children:Object(x.jsxs)(Oe.a,{type:"radio",name:"challengeType",value:A.ChallengeType,onChange:function(e){console.log(e),"CATEGORIES"===e?0===A.CategoryItems.length?(R(A.ChallengeItems),N(Object(a.a)(Object(a.a)({},A),{},{ChallengeItems:[],ChallengeType:e,CategoryItems:F}))):N(Object(a.a)(Object(a.a)({},A),{},{ChallengeType:e})):"ENTERASYOUGO"===e?(R(A.ChallengeItems),U(A.CategoryItems),N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:[],ChallengeItems:[],ChallengeType:e}))):0===A.ChallengeItems.length?(U(A.CategoryItems),N(Object(a.a)(Object(a.a)({},A),{},{CategoryItems:[],ChallengeType:e,ChallengeItems:k}))):N(Object(a.a)(Object(a.a)({},A),{},{ChallengeType:e}))},children:[Object(x.jsx)(fe.a,{value:"BASIC",children:"Basic"}),Object(x.jsx)(fe.a,{value:"BASICINTERVAL",children:"Basic Interval"}),Object(x.jsx)(fe.a,{value:"CATEGORIES",children:"Categories"}),Object(x.jsx)(fe.a,{value:"ENTERASYOUGO",children:"Enter AYG"}),Object(x.jsx)(fe.a,{value:"CALENDAR",children:"Calendar"})]})}),Object(x.jsx)(ge.a.Group,{as:z.a,md:"5",children:Object(x.jsxs)(Oe.a,{type:"radio",name:"progressType",value:A.ProgressType,onChange:function(e){N(Object(a.a)(Object(a.a)({},A),{},{ProgressType:e}))},children:[Object(x.jsx)(fe.a,{value:"fraction",children:"Fraction"}),Object(x.jsx)(fe.a,{value:"percentage",children:"Percentage"})]})})]}),Object(x.jsx)("div",{children:function(){if("BASICINTERVAL"===A.ChallengeType)return Object(x.jsxs)("div",{children:[Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Group,{as:z.a,md:"5",children:Object(x.jsx)(ge.a.Label,{children:"Challenge Interval"})})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Group,{as:z.a,md:"5",children:Object(x.jsxs)(Oe.a,{type:"radio",name:"challengeInterval",value:A.Interval,onChange:_,children:[Object(x.jsx)(fe.a,{value:"DAILY",children:"Daily"}),Object(x.jsx)(fe.a,{value:"WEEKLY",children:"Weekly"}),Object(x.jsx)(fe.a,{value:"MONTHLY",children:"Monthly"})]})})})]})}()}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsxs)(ge.a.Group,{as:z.a,md:"12",controlId:"categoriesControl",children:[Object(x.jsx)(ge.a.Label,{children:"Categories"}),Object(x.jsx)("div",{children:Object(x.jsx)(Ee.MultiSelect,{id:j,placeholder:"Select Categories",options:Ne.map((function(e){return{label:e,value:e}})),onValuesChange:function(e){N(Object(a.a)(Object(a.a)({},A),{},{Categories:e.map((function(e){return e.value}))}))},values:A.Categories.map((function(e){return{label:e,value:e}}))})})]})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsxs)(ge.a.Group,{as:z.a,md:"10",controlId:"descriptionControl",children:[Object(x.jsx)(ge.a.Label,{children:"Description"}),Object(x.jsx)(ge.a.Control,{type:"textarea",placeholder:"Description",ref:C,name:"Description"})]})}),Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(ge.a.Group,{as:z.a,md:"2",children:Object(x.jsx)(ge.a.Check,{type:"switch",id:"activeswitch",label:"Active",checked:A.IsActive,onChange:function(){var e=Object(a.a)(Object(a.a)({},A),{},{IsActive:!A.IsActive});N(e)}})}),Object(x.jsx)(ge.a.Group,{as:z.a,md:"2",children:Object(x.jsx)(ge.a.Check,{type:"switch",id:"searchableswitch",label:"Searchable",checked:A.IsSearchable,onChange:function(){N(Object(a.a)(Object(a.a)({},A),{},{IsSearchable:!A.IsSearchable}))},defaultValue:!1})}),Object(x.jsxs)(ge.a.Group,{as:z.a,md:"6",children:[Object(x.jsx)(ge.a.Label,{children:"Live Date\xa0\xa0\xa0\xa0"}),Object(x.jsx)(Ce.a,{selected:A.LiveAt,onChange:function(e){N(Object(a.a)(Object(a.a)({},A),{},{LiveAt:e}))},showTimeSelect:!0})]})]}),"ENTERASYOUGO"===A.ChallengeType?Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsxs)(ge.a.Group,{as:z.a,md:"6",controlId:"placeholderControl",children:[Object(x.jsx)(ge.a.Label,{children:"Placeholder Text"}),Object(x.jsx)(ge.a.Control,{type:"textarea",placeholder:"Item Placeholder Text",maxLength:"30",ref:y,name:"Placeholder"})]}),Object(x.jsxs)(ge.a.Group,{as:z.a,md:"6",controlId:"inputCountControl",children:[Object(x.jsx)(ge.a.Label,{children:"Number of Items"}),Object(x.jsx)(ge.a.Control,{type:"number",placeholder:"0 for infinite",ref:v,name:"InputCount"})]})]}):"CALENDAR"!==A.ChallengeType?Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Group,{as:z.a,md:"5",children:Object(x.jsx)(ge.a.Label,{children:"Challenge Items"})})}):Object(x.jsx)(x.Fragment,{}),A.ChallengeItems?A.ChallengeItems.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(ge.a.Group,{as:z.a,md:"1",children:Object(x.jsx)(pe.a,{type:"button",onClick:function(){return function(e){Fe(e);var t=A.ChallengeItems[e];t.info?(Ye(t.info),t.info.misc?Qe(t.info.misc):Qe([])):(Ye({}),Qe([])),We()}(t)},className:"small",variant:A.ChallengeItems[t].info?"success":"primary",children:"info"})}),Object(x.jsx)(ge.a.Group,{as:z.a,md:"6",children:Object(x.jsx)(ge.a.Control,{type:"text",placeholder:"Challenge Item #".concat(t+1," name"),value:e.item,onChange:te(t)})}),Object(x.jsxs)(ge.a.Group,{as:z.a,md:"4",children:[Object(x.jsx)(pe.a,{type:"button",onClick:Q(t),className:"small",children:"-"}),Object(x.jsx)(pe.a,{type:"button",onClick:q(t),className:"small",children:"+"}),Object(x.jsx)(pe.a,{type:"button",onClick:X(t),className:"small",children:"^"}),Object(x.jsx)(pe.a,{type:"button",onClick:ee(t),className:"small",children:"v"})]})]})})})):Object(x.jsx)(x.Fragment,{}),A.CategoryItems?A.CategoryItems.map((function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(ge.a.Group,{as:z.a,md:"6",children:Object(x.jsx)(ge.a.Control,{type:"text",placeholder:"Category Item #".concat(t+1," name"),value:e.Category,onChange:ue(t)})}),Object(x.jsxs)(ge.a.Group,{as:z.a,md:"4",children:[Object(x.jsx)(pe.a,{type:"button",onClick:re(t),className:"small",children:"-"}),Object(x.jsx)(pe.a,{type:"button",onClick:oe(t),className:"small",children:"+"}),Object(x.jsx)(pe.a,{type:"button",onClick:le(t),className:"small",children:"^"}),Object(x.jsx)(pe.a,{type:"button",onClick:de(t),className:"small",children:"v"})]})]}),e.ChallengeItems.map((function(e,n){return Object(x.jsx)("div",{children:Object(x.jsxs)(ge.a.Row,{children:[Object(x.jsx)(ge.a.Group,{as:z.a,md:"1"}),Object(x.jsx)(ge.a.Group,{as:z.a,md:"1",children:Object(x.jsx)(pe.a,{type:"button",onClick:function(){return function(e,t,n){Pe(e),Fe(t),n.info?(Ye(n.info),n.info.misc?Qe(n.info.misc):Qe([])):(Ye({}),Qe([])),We()}(t,n,e)},className:"small",variant:e.info?"success":"primary",children:"info"})}),Object(x.jsx)(ge.a.Group,{as:z.a,md:"6",children:Object(x.jsx)(ge.a.Control,{type:"text",placeholder:"Challenge Item #".concat(n+1," name"),value:e.item,onChange:se(t,n)})}),Object(x.jsxs)(ge.a.Group,{as:z.a,md:"4",children:[Object(x.jsx)(pe.a,{type:"button",onClick:ne(t,n),className:"small",children:"-"}),Object(x.jsx)(pe.a,{type:"button",onClick:ae(t,n),className:"small",children:"+"}),Object(x.jsx)(pe.a,{type:"button",onClick:ce(t,n),className:"small",children:"^"}),Object(x.jsx)(pe.a,{type:"button",onClick:ie(t,n),className:"small",children:"v"})]})]})})}))]})})):Object(x.jsx)(x.Fragment,{}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Group,{as:z.a,md:"6",children:Object(x.jsx)(ye,{onDrop:M,title:"Upload Challenge Image",accept:"image/*"})})}),Object(x.jsx)(ge.a.Row,{children:P.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(z.a,{xs:6,md:4,children:Object(x.jsx)(Ae.a,{src:e.src,fluid:!0})}),Object(x.jsx)(ge.a.Group,{as:z.a,md:"4",children:Object(x.jsx)(pe.a,{onClick:J,children:"Delete"})})]})}))}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Group,{as:z.a,md:"6",children:Object(x.jsx)(ye,{onDrop:V,title:"Upload CSV",accept:".csv, application/vnd.ms-excel, text/csv"})})}),Object(x.jsx)(pe.a,{type:"submit",children:"Submit Challenge"})]})},Ue=n(1172),He=n(1179),Ge=n(1180),Pe="card",Be=n(566),We=n(575),ze=n(205),Me=n(207),Ve=n(6),Ye=n.n(Ve),Ke=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fill,n=e.simple,c=e.pullRight,i=e.round,s=e.block,r=Object(Y.a)(e,["fill","simple","pullRight","round","block"]),o=Ye()({"btn-fill":t,"btn-simple":n,"pull-right":c,"btn-block":s,"btn-round":i});return Object(x.jsx)(pe.a,Object(a.a)({className:o},r))}}]),n}(c.Component),_e={border:"1px solid gray",padding:"0.5rem 1rem",marginBottom:".5rem",backgroundColor:"white",cursor:"move"},Je=function(e){var t=e.id,n=e.text,i=e.index,s=e.moveCard,r=e.deleteCard,o=Object(c.useRef)(null),l=Object(He.a)({accept:Pe,hover:function(e,t){if(o.current){var n=e.index,a=i;if(n!==a){var c=o.current.getBoundingClientRect(),r=(c.bottom-c.top)/2,l=t.getClientOffset().y-c.top;n<a&&l<r||n>a&&l>r||(s(n,a),e.index=a)}}}}),d=Object(be.a)(l,2)[1],u=Object(Ge.a)({item:{type:Pe,id:t,index:i},collect:function(e){return{isDragging:e.isDragging()}}}),j=Object(be.a)(u,2),h=j[0].isDragging,b=j[1],p=Object(x.jsx)(Be.a,{id:"remove_tooltip",children:"Remove"}),g=h?0:1;return b(d(o)),Object(x.jsxs)("div",{ref:o,style:Object(a.a)(Object(a.a)({},_e),{},{opacity:g}),children:[n,"\xa0\xa0\xa0",Object(x.jsx)(We.a,{placement:"top",overlay:p,children:Object(x.jsx)(Ke,{bsStyle:"danger",onClick:function(){return r(t)},simple:!0,type:"button",bsSize:"sm",children:Object(x.jsx)(ze.a,{icon:Me.c})})})]})},Qe=n(263),qe=n.n(Qe),Xe=n(572),Ze=function(e){var t=e.challenges,n=e.callback;return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(Xe.a,{value:"",options:t.map((function(e){return{label:e.text,value:e}})),onChange:function(e){return n(e.value)}})})},$e={width:"80%"},et={marginTop:"20px"},tt=function(){var e=Object(c.useState)(!1),t=Object(be.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),s=Object(be.a)(i,2),r=s[0],o=s[1],l=Object(c.useState)([]),d=Object(be.a)(l,2),u=d[0],j=d[1];n||(a(!0),fetch(w.BASE_URL+"/challenge").then((function(e){return e.json()})).then((function(e){fetch(w.BASE_URL+"/homepage").then((function(e){return e.json()})).then((function(t){var n=[],a=[];e.forEach((function(e){t.Data.includes(e.ChallengeId)?n=[].concat(Object(he.a)(n),[{text:e.Name+" - "+e.ChallengeId,ChallengeId:e.ChallengeId,ChallengeName:e.Name,id:t.Data.indexOf(e.ChallengeId)}]):a=[].concat(Object(he.a)(a),[{text:e.Name+" - "+e.ChallengeId,ChallengeId:e.ChallengeId,ChallengeName:e.Name,id:0}])})),n.sort((function(e,t){return e.id-t.id})),j(n),o(a)}))})));var h=Object(c.useCallback)((function(e,t){console.log(e);var n=u[e];j(qe()(u,{$splice:[[e,1],[t,0,n]]}))}),[u]),b=Object(c.useCallback)((function(e){j(u.filter((function(t){return t.id!==e})))}),[u]),p=Object(c.useCallback)((function(e){var t=e;t.id=u.length,j([].concat(Object(he.a)(u),[t])),console.log(t),o(r.filter((function(t){return t.ChallengeId!==e.ChallengeId})))}),[u,r]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:$e,children:u.map((function(e,t){return function(e,t){return Object(x.jsx)(Je,{index:t,id:e.id,text:e.text,moveCard:h,deleteCard:b},e.id)}(e,t)}))}),Object(x.jsx)(Ze,{challenges:r,callback:p}),Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(pe.a,{style:et,onClick:function(){var e=u.map((function(e){return e.ChallengeId}));console.log(e),Z.a.currentSession({bypassCache:!0}).then((function(t){var n=w.BASE_URL+"/homepage";fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.getIdToken().getJwtToken()},body:JSON.stringify({ChallengeIds:e})}).then((function(e){201!==e.status&&($.a.open({type:"error",message:"Something went wrong",description:"status"+e.status,duration:10}),e.json().then((function(e){return $.a.open({type:"error",message:"Something went wrong",description:"error"+e,duration:10})})).catch((function(e){return alert(e)}))),e.json().then((function(e){$.a.open({type:"success",message:"Homepage updated",description:"",duration:10}),console.log(e)})).catch((function(e){return alert(e)}))})).catch((function(e){return alert(e)}))})).catch((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})}))},children:"Save Changes"})})]})},nt=n(265),at=function(e){var t=Object(c.useState)(!1),n=Object(be.a)(t,2),a=n[0],i=n[1];return Z.a.currentSession({bypassCache:!0}).then((function(){})).catch((function(e){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),i(!0)})),Object(x.jsxs)("div",{className:"content",children:[function(){if(a)return Object(x.jsx)(h.a,{to:"/login"})}(),Object(x.jsx)(B.a,{fluid:!0,children:Object(x.jsx)(W.a,{children:Object(x.jsx)(z.a,{md:12,children:Object(x.jsx)(M,{title:"Home Page Layout",content:Object(x.jsx)("div",{children:Object(x.jsx)(Ue.a,{backend:nt.a,children:Object(x.jsx)(tt,{})})})})})})})]})},ct=function(e){var t=e.image,n=e.callback,s=e.index,r=e.moveImage,o=e.onDelete,l=Object(c.useRef)(null),d=Object(c.useState)(!1),u=Object(be.a)(d,2),j=u[0],h=u[1],b=Object(c.useState)(t.CarouselItem.Type),p=Object(be.a)(b,2),g=p[0],m=p[1],O=Object(c.useState)(t.CarouselItem.Active),f=Object(be.a)(O,2),C=f[0],v=f[1],y=Object(c.useState)("challenge"===t.CarouselItem.Type?"":t.CarouselItem.Id),I=Object(be.a)(y,2),S=I[0],A=I[1],N=i.a.createRef(),E=Object(He.a)({accept:g,hover:function(e){if(l.current){var t=e.index,n=s;t!==n&&(r(t,n),e.index=n)}}}),T=Object(be.a)(E,2)[1],k=Object(Ge.a)({item:{type:g,id:t.id,index:s},collect:function(e){return{isDragging:e.isDragging()}}}),R=Object(be.a)(k,2),w=R[0].isDragging;(0,R[1])(T(l));var L=function(){h(!1)},D=function(e){A(e.target.value),console.log(e.target.value)};return Object(x.jsxs)("div",{ref:l,style:{opacity:w?0:1},className:"file-item",children:[Object(x.jsxs)(me.a,{show:j,onHide:L,children:[Object(x.jsx)(me.a.Header,{closeButton:!0,children:Object(x.jsx)(me.a.Title,{children:Object(x.jsx)("img",{alt:"img - ".concat(t.id),src:t.src,className:"file-img-modal"})})}),Object(x.jsx)(me.a.Body,{children:Object(x.jsx)("div",{children:Object(x.jsx)(ge.a,{children:Object(x.jsxs)(ge.a.Group,{children:[Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"Type"})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsxs)(Oe.a,{type:"radio",name:"progressType",value:g,onChange:function(){m("challenge"===g?"category":"challenge")},children:[Object(x.jsx)(fe.a,{value:"challenge",children:"Challenge"}),Object(x.jsx)(fe.a,{value:"category",children:"Category"})]})}),function(){if("challenge"===g)return Object(x.jsxs)("div",{children:[Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"Challenge ID"})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Control,{size:"sm",type:"text",placeholder:"Challenge ID",id:"challengeId",name:"CarouselChallengeId",ref:N,defaultValue:"challenge"===t.CarouselItem.Type?t.CarouselItem.Id:""})})]})}(),function(){if("category"===g)return Object(x.jsxs)("div",{children:[Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Label,{children:"Category"})}),Object(x.jsx)(ge.a.Row,{children:Object(x.jsxs)(ge.a.Control,{as:"select",size:"sm",onChange:D,value:S,custom:!0,children:[Object(x.jsx)("option",{children:"Travel"}),Object(x.jsx)("option",{children:"Health & Fitness"}),Object(x.jsx)("option",{children:"Food & Drink"}),Object(x.jsx)("option",{children:"Books"}),Object(x.jsx)("option",{children:"Film & TV"}),Object(x.jsx)("option",{children:"Music"}),Object(x.jsx)("option",{children:"Sports"}),Object(x.jsx)("option",{children:"New"}),Object(x.jsx)("option",{children:"Arts & Culture"}),Object(x.jsx)("option",{children:"Daily Life"}),Object(x.jsx)("option",{children:"Daily Life"}),Object(x.jsx)("option",{children:"Music"}),Object(x.jsx)("option",{children:"30 day challenges"}),Object(x.jsx)("option",{children:"Theatre"}),Object(x.jsx)("option",{children:"Get Creative"}),Object(x.jsx)("option",{children:"Productivity"}),Object(x.jsx)("option",{children:"At Home"}),Object(x.jsx)("option",{children:"Wellbeing"}),Object(x.jsx)("option",{children:"For Kids"}),Object(x.jsx)("option",{children:"Health"}),Object(x.jsx)("option",{children:"Fitness"}),Object(x.jsx)("option",{children:"Mindfulness"}),Object(x.jsx)("option",{children:"Yoga"}),Object(x.jsx)("option",{children:"Workouts"}),Object(x.jsx)("option",{children:"Exercise"}),Object(x.jsx)("option",{children:"Walks"}),Object(x.jsx)("option",{children:"Reading"}),Object(x.jsx)("option",{children:"Football"}),Object(x.jsx)("option",{children:"Extreme sports"}),Object(x.jsx)("option",{children:"Basketball"}),Object(x.jsx)("option",{children:"Cricket"}),Object(x.jsx)("option",{children:"Tennis"}),Object(x.jsx)("option",{children:"Film"}),Object(x.jsx)("option",{children:"TV"}),Object(x.jsx)("option",{children:"Gigs"}),Object(x.jsx)("option",{children:"Global travel"}),Object(x.jsx)("option",{children:"UK Travel"}),Object(x.jsx)("option",{children:"Exploring"}),Object(x.jsx)("option",{children:"Sightseeing"}),Object(x.jsx)("option",{children:"Food"}),Object(x.jsx)("option",{children:"Drink"}),Object(x.jsx)("option",{children:"Beer"}),Object(x.jsx)("option",{children:"Entertain Kids"}),Object(x.jsx)("option",{children:"Eating out"}),Object(x.jsx)("option",{children:"Golf"}),Object(x.jsx)("option",{children:"Indoor Entertainment"}),Object(x.jsx)("option",{children:"Gaming"}),Object(x.jsx)("option",{children:"Green"}),Object(x.jsx)("option",{children:"Christmas"}),Object(x.jsx)("option",{children:"Charity"})]})})]})}(),Object(x.jsx)(ge.a.Row,{children:Object(x.jsx)(ge.a.Check,{type:"switch",id:"activeId",label:"Active",checked:C,onChange:function(e){v(!C)}})})]})})})}),Object(x.jsxs)(me.a.Footer,{children:[Object(x.jsx)(pe.a,{variant:"secondary",onClick:function(){o(t),h(!1)},children:"Delete"}),Object(x.jsx)(pe.a,{variant:"secondary",onClick:L,children:"Close"}),Object(x.jsx)(pe.a,{variant:"primary",onClick:function(){t=Object(a.a)(Object(a.a)({},t),{},{CarouselItem:Object(a.a)(Object(a.a)({},t.CarouselItem),{},{Active:C,Type:g,Id:"challenge"===g?N.current.value:S})}),console.log(t),n(t),h(!1)},children:"Save Changes"})]})]}),Object(x.jsx)("img",{alt:"img - ".concat(t.id),src:t.src,className:"file-img"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{float:"left"},onClick:function(){console.log(t),h(!0)},children:Object(x.jsx)(ze.a,{icon:Me.b})}),Object(x.jsx)("div",{style:{float:"right"},children:Object(x.jsx)(ze.a,{icon:Me.a,color:t.CarouselItem.Active?"green":"red"})})]})]})},it=function(e){var t=e.images,n=e.callback,a=e.moveImage,c=e.onDelete;return Object(x.jsx)("section",{className:"file-list",children:t.map((function(e,t){return Object(x.jsx)(ct,{image:e,callback:n,onDelete:c,index:t,moveImage:a},"".concat(e.id,"-image"))}))})},st=n(573),rt=(n(1115),"ontouchstart"in window?st.a:nt.a),ot=function(e){var t=Object(c.useState)([]),n=Object(be.a)(t,2),i=n[0],s=n[1],r=Object(c.useState)(!1),o=Object(be.a)(r,2),l=o[0],d=o[1],u=Object(c.useState)(!1),j=Object(be.a)(u,2),b=j[0],p=j[1];Z.a.currentSession({bypassCache:!0}).then((function(e){b||fetch(w.BASE_URL+"/carousel",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.getIdToken().getJwtToken()}}).then((function(e){p(!0),200===e.status?e.json().then((function(e){var t=[];e.CarouselItems.forEach((function(e){t=[].concat(Object(he.a)(t),[{id:e.Id,src:w.CAROUSEL_BASE+"/"+e.ImageId,CarouselItem:e}])})),s(t)})):$.a.open({type:"error",message:"Carousel Not Found",description:"Redirecting to login page",duration:10})})).catch((function(e){$.a.open({type:"error",message:"Not could not load carousel",description:e,duration:10})}))})).catch((function(e){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),d(!0)}));var g=Object(c.useCallback)((function(e){e.map((function(e){var t=new FileReader;return t.onload=function(e){Z.a.currentSession({bypassCache:!0}).then((function(t){var n=w.BASE_URL+"/carousel";fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.getIdToken().getJwtToken()},body:JSON.stringify({Image:e.target.result.split(",")[1]})}).then((function(t){201!==t.status&&t.json().then((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})})).catch((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})})),$.a.open({type:"success",message:"Submitted new image",duration:10}),t.json().then((function(t){s((function(n){return[].concat(Object(he.a)(n),[{id:t.Id,src:e.target.result,CarouselItem:{ImageId:t.Id,Index:i.length,Type:"challenge",Active:!1,Id:""}}])}))})).catch((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})}))})).catch((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})}))})).catch((function(e){$.a.open({type:"error",message:"Issue with authentication, please log in again",description:e,duration:10})}))},t.readAsDataURL(e),e}))}),[]),m=Object(c.useCallback)((function(e){var t=i.map((function(t){return t.id===e.id?e:t}));s(t)}),[i]),O=Object(c.useCallback)((function(e){Z.a.currentSession({bypassCache:!0}).then((function(t){var n=w.BASE_URL+"/carousel/"+e.CarouselItem.ImageId;fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.getIdToken().getJwtToken()}}).then((function(t){$.a.open({type:"success",message:"Item Deleted",duration:10});var n=i.filter((function(t){return t.id!==e.id}));s(n)})).catch((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})}))})).catch((function(e){$.a.open({type:"error",message:"Issue with authentication, please log in again",description:e,duration:10})}))}),[i]);return Object(x.jsxs)("div",{children:[function(){if(l)return Object(x.jsx)(h.a,{to:"/login"})}(),Object(x.jsx)(ye,{onDrop:g,title:"Upload New Carousel Image",accept:"image/*"}),Object(x.jsx)(Ue.a,{backend:rt,children:Object(x.jsx)(it,{images:i,callback:m,moveImage:function(e,t){var n=i[e];s(qe()(i,{$splice:[[e,1],[t,0,n]]}))},onDelete:O})}),Object(x.jsx)(pe.a,{onClick:function(){i.filter((function(e){return""===e.CarouselItem.Id})).length>0?$.a.open({type:"error",message:"Make sure all carousel items have either a challenge id or category",duration:10}):Z.a.currentSession({bypassCache:!0}).then((function(e){var t=w.BASE_URL+"/carousel";fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.getIdToken().getJwtToken()},body:JSON.stringify({CarouselItems:i.map((function(e,t){return Object(a.a)(Object(a.a)({},e.CarouselItem),{},{Index:t})}))})}).then((function(e){$.a.open({type:"success",message:"Changes Submitted",duration:10})})).catch((function(e){$.a.open({type:"error",message:"Something went wrong",description:e,duration:10})}))})).catch((function(e){$.a.open({type:"error",message:"Issue with authentication, please log in again",description:e,duration:10})}))},children:"Submit Changes"})]})},lt=(n(1116),[{dataField:"bug",text:"Bug",sort:!0},{dataField:"id",text:"Id",sort:!0},{dataField:"createdAt",text:"Created At",sort:!0},{dataField:"reporter",text:"Reporter",sort:!0}]),dt=oe.Search.SearchBar,ut=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={tdBugs:[],redirect:!1},e.renderRedirect=function(){if(e.state.redirect)return Object(x.jsx)(h.a,{to:"/login"})},e.setRedirect=function(){e.setState({redirect:!0})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;Z.a.currentSession({bypassCache:!0}).then((function(t){fetch(w.BASE_URL+"/bugs",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.getIdToken().getJwtToken()}}).then((function(t){200===t.status?t.json().then((function(t){e.setState({tdBugs:t})})).catch((function(e){return console.log(e)})):alert("Error, Bugs not found")})).catch((function(e){return console.log(e)}))})).catch((function(t){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),e.setRedirect(!0)}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"content",children:[this.renderRedirect(),Object(x.jsx)(B.a,{fluid:!0,children:Object(x.jsx)(W.a,{children:Object(x.jsx)(z.a,{md:12,children:Object(x.jsx)(V,{title:"",category:"",ctTableFullWidth:!1,ctTableResponsive:!0,content:Object(x.jsx)(le.a,{striped:!0,hover:!0,keyField:"id",data:this.state.tdBugs,columns:lt,wrapperClasses:"table-responsive",search:!0,children:function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{className:"title",children:["Bugs\xa0\xa0\xa0\xa0",Object(x.jsx)(dt,Object(a.a)({},e.searchProps))]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"tableStyle",children:Object(x.jsx)(re.a,Object(a.a)({},e.baseProps))})]})}})})})})})]})}}]),n}(c.Component),jt=(n(1117),[{dataField:"id",text:"Id",sort:!0},{dataField:"createdAt",text:"Created At",sort:!0},{dataField:"email",text:"Email",sort:!0}]),ht=oe.Search.SearchBar,bt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={tdBugs:[],redirect:!1},e.renderRedirect=function(){if(e.state.redirect)return Object(x.jsx)(h.a,{to:"/login"})},e.setRedirect=function(){e.setState({redirect:!0})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;Z.a.currentSession({bypassCache:!0}).then((function(t){fetch(w.BASE_URL+"/marketing/unsubscribe",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.getIdToken().getJwtToken()}}).then((function(t){200===t.status?t.json().then((function(t){e.setState({tdBugs:t})})).catch((function(e){return console.log(e)})):alert("Error, Unsubscribes not found")})).catch((function(e){return console.log(e)}))})).catch((function(t){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),e.setRedirect(!0)}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"content",children:[this.renderRedirect(),Object(x.jsx)(B.a,{fluid:!0,children:Object(x.jsx)(W.a,{children:Object(x.jsx)(z.a,{md:12,children:Object(x.jsx)(V,{title:"",category:"",ctTableFullWidth:!1,ctTableResponsive:!0,content:Object(x.jsx)(le.a,{striped:!0,hover:!0,keyField:"id",data:this.state.tdBugs,columns:jt,wrapperClasses:"table-responsive",search:!0,children:function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{className:"title",children:["Unsubscribed Emails\xa0\xa0\xa0\xa0",Object(x.jsx)(ht,Object(a.a)({},e.searchProps))]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"tableStyle",children:Object(x.jsx)(re.a,Object(a.a)({},e.baseProps))})]})}})})})})})]})}}]),n}(c.Component),pt=(n(1118),[{dataField:"createdAt",text:"Created At",sort:!0},{dataField:"company",text:"Company",sort:!0},{dataField:"number",text:"Number",sort:!0},{dataField:"message",text:"Message",sort:!0},{dataField:"email",text:"Email",sort:!0},{dataField:"name",text:"Name",sort:!0},{dataField:"type",text:"Type",sort:!0},{dataField:"id",text:"ID",sort:!0}]),gt=oe.Search.SearchBar,mt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={tdBugs:[],redirect:!1},e.renderRedirect=function(){if(e.state.redirect)return Object(x.jsx)(h.a,{to:"/login"})},e.setRedirect=function(){e.setState({redirect:!0})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;Z.a.currentSession({bypassCache:!0}).then((function(t){fetch(w.BASE_URL+"/interest",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.getIdToken().getJwtToken()}}).then((function(t){200===t.status?t.json().then((function(t){e.setState({tdBugs:t})})).catch((function(e){return console.log(e)})):alert("Error, Interests not found")})).catch((function(e){return console.log(e)}))})).catch((function(t){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),e.setRedirect(!0)}))}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"content",children:[this.renderRedirect(),Object(x.jsx)(B.a,{fluid:!0,children:Object(x.jsx)(W.a,{children:Object(x.jsx)(z.a,{md:12,children:Object(x.jsx)(V,{title:"",category:"",ctTableFullWidth:!1,ctTableResponsive:!0,content:Object(x.jsx)(le.a,{striped:!0,hover:!0,keyField:"id",data:this.state.tdBugs,columns:pt,wrapperClasses:"table-responsive",search:!0,children:function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{className:"title",children:["Interest\xa0\xa0\xa0\xa0",Object(x.jsx)(gt,Object(a.a)({},e.searchProps))]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"tableStyle",children:Object(x.jsx)(re.a,Object(a.a)({},e.baseProps))})]})}})})})})})]})}}]),n}(c.Component),Ot=[{path:"profile",name:"User Profile",icon:"pe-7s-user",component:ie,layout:"/"},{path:"/view",name:"Challenges",icon:"pe-7s-note2",component:je,layout:"/challenges"},{path:"/create",name:"Create Challenge",icon:"pe-7s-note2",component:Fe,layout:"/challenges"},{path:"homepage",name:"Home Page Order",icon:"pe-7s-graph",component:at,layout:"/"},{path:"carousel",name:"Carousel",icon:"pe-7s-news-paper",component:ot,layout:"/"},{path:"bugs",name:"Bugs",icon:"pe-7s-science",component:ut,layout:"/"},{path:"interest",name:"Interest",icon:"pe-7s-science",component:mt,layout:"/"},{path:"metrics",name:"Metrics",icon:"pe-7s-graph",component:je,layout:"/"},{path:"unsubscribes",name:"Unsubscribes",icon:"pe-7s-science",component:bt,layout:"/"}],ft=n(571),xt=(n(1147),n(1148),n(106)),Ct=n.n(xt),vt=[{dataField:"name",text:"Name",sort:!0,headerStyle:function(e,t){return{width:"300px"}}},{dataField:"count",text:"Count",sort:!0},{dataField:"active",text:"Active",sort:!0},{dataField:"complete",text:"Ever Completed",sort:!0},{dataField:"updated",text:"Updated this week",sort:!0}],yt=oe.Search.SearchBar,It=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,i=new Array(c),s=0;s<c;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={tdChallenges:[],tdSubscriptions:[]},e.rowEvents={onClick:function(t,n,c){e.setState(Object(a.a)(Object(a.a)({},e.state),{},{redirectChallenge:n.id})),e.setRedirect(),console.log(n.id)}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(w.BASE_URL+"/challenge").then((function(e){return e.json()})).then((function(t){e.setState({tdChallenges:t.sort((function(e,t){return Date.parse(t.UpdatedAt)-Date.parse(e.UpdatedAt)}))})})).then((function(){return Z.a.currentSession({bypassCache:!0})})).then((function(t){fetch(w.BASE_URL+"/subscription",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.getIdToken().getJwtToken()}}).then((function(e){return e.json()})).then((function(t){var n={TOTAL:{count:0,active:0,complete:0,updated:0}};t.map((function(t){var n=e.state.tdChallenges.find((function(e){return e.ChallengeId===t.ChallengeId}));return t.Name=n?n.Name:"Create your own",t})).forEach((function(e){n[e.Name]=n[e.Name]?{count:n[e.Name].count+1,active:n[e.Name].active+(e.IsActive?1:0),complete:n[e.Name].complete+(e.TimesCompleted>0?1:0),updated:n[e.Name].updated+(Ct()().diff(Ct()(e.UpdatedAt),"hours")<168?1:0)}:{count:1,active:e.IsActive?1:0,complete:e.TimesCompleted>0?1:0,updated:Ct()().diff(Ct()(e.UpdatedAt),"hours")<24?1:0},n.TOTAL={count:n.TOTAL.count+1,active:n.TOTAL.active+(e.IsActive?1:0),complete:n.TOTAL.complete+(e.TimesCompleted>0?1:0),updated:n.TOTAL.updated+(Ct()().diff(Ct()(e.UpdatedAt),"hours")<168?1:0)}})),e.state.tdChallenges.forEach((function(e){n[e.Name]||(n[e.Name]={count:0,active:0,complete:0,updated:0})}));var c=[];Object.keys(n).forEach((function(e){c.push(Object(a.a)({name:e},n[e]))})),e.setState({tdSubscriptions:c.sort((function(e,t){return t.count-e.count}))})})).catch(console.log)})).catch((function(e){$.a.open({type:"error",message:"Not logged in",description:"Redirecting to login page",duration:10}),console.log(e)}))}},{key:"createChallengeData",value:function(e){return{id:e.ChallengeId,name:e.Name,description:e.Description,type:e.ChallengeType,categories:e.Categories.toString(),active:e.IsActive,liveAt:e.LiveAt,updatedAt:e.UpdatedAt,createdAt:e.CreatedAt}}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"content",children:Object(x.jsx)(B.a,{fluid:!0,children:Object(x.jsx)(W.a,{children:Object(x.jsx)(z.a,{md:12,children:Object(x.jsx)(V,{title:"",category:"",ctTableFullWidth:!1,ctTableResponsive:!0,content:Object(x.jsx)(le.a,{striped:!0,hover:!0,keyField:"id",data:this.state.tdSubscriptions,columns:vt,wrapperClasses:"table-responsive",search:!0,children:function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h4",{className:"title",children:["Subscriptions\xa0\xa0\xa0\xa0",Object(x.jsx)(yt,Object(a.a)({},e.searchProps))]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"tableStyle",children:Object(x.jsx)(re.a,Object(a.a)(Object(a.a)({},e.baseProps),{},{defaultSorted:[{dataField:"count",order:"desc"}]}))})]})}})})})})})})}}]),n}(c.Component),St=j.a.Content,At=j.a.Footer;k.a.configure(Object(a.a)(Object(a.a)({},P),{},{Region:"eu-west-1",Storage:{AWSS3:{bucket:"challenge-accepted-mob",region:"eu-west-1"}}})),Z.a.configure(P),k.a.Logger.LOG_LEVEL="INFO";var Nt=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).getRoutes=function(e){return e.map((function(e,t){return Object(x.jsx)(h.b,{path:e.layout+e.path,render:function(t){return Object(x.jsx)(e.component,Object(a.a)({},t))}},t)}))},c.state={_notificationSystem:null,color:""===w.env?"challenge":"purple",fixedClasses:"dropdown show-dropdown open",location:null},c}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&document.documentElement.classList.toggle("nav-open"),"PUSH"===e.history.action&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainPanel.scrollTop=0)}},{key:"render",value:function(){var e=this;return Object(x.jsx)("div",{className:"wrapper",children:Object(x.jsx)("div",{id:"main-panel",className:"main-panel",ref:"mainPanel",children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)(h.b,{path:"/",render:function(t){return Object(x.jsx)(G,Object(a.a)(Object(a.a)({},t),{},{routes:Ot,color:e.state.color}))}}),Object(x.jsx)(j.a,{children:Object(x.jsxs)(j.a,{children:[Object(x.jsx)(St,{style:{padding:"0 50px",marginTop:64,width:"100%"},children:Object(x.jsxs)("div",{style:{background:"#fff",padding:24,width:"100%",marginTop:"20px"},children:[Object(x.jsx)(h.b,{exact:!0,path:"/",component:ie}),Object(x.jsx)(h.b,{path:"/search",component:E}),Object(x.jsx)(h.b,{path:"/addrss",component:T}),Object(x.jsx)(h.b,{path:"/profile",component:ie}),Object(x.jsx)(h.b,{path:"/challenges/view",component:je}),Object(x.jsx)(h.b,{path:"/challenges/create/:id?",component:Fe}),Object(x.jsx)(h.b,{path:"/homepage",component:at}),Object(x.jsx)(h.b,{path:"/carousel",component:ot}),Object(x.jsx)(h.b,{path:"/bugs",component:ut}),Object(x.jsx)(h.b,{path:"/interest",component:mt}),Object(x.jsx)(h.b,{path:"/unsubscribes",component:bt}),Object(x.jsx)(h.b,{path:"/metrics",component:It})]})}),Object(x.jsx)(At,{style:{textAlign:"center"},children:"Challenge Accepted \xa9 2020 "})]})})]})})})}}]),n}(i.a.Component),Et=Object(ft.a)(Nt,!0);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1149),n(1150),n(1151),n(1152),n(1153);k.a.configure(Object(a.a)(Object(a.a)({},P),{},{Region:"eu-west-1",Storage:{AWSS3:{bucket:"challenge-accepted-mob",region:"eu-west-1"}}})),k.a.Logger.LOG_LEVEL="INFO",r.a.render(Object(x.jsx)(Et,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},593:function(e,t,n){},594:function(e,t,n){},689:function(e,t,n){},741:function(e,t,n){},776:function(e,t){},778:function(e,t){},826:function(e,t){},828:function(e,t){},856:function(e,t){},858:function(e,t){},859:function(e,t){},864:function(e,t){},866:function(e,t){},872:function(e,t){},874:function(e,t){},893:function(e,t){},905:function(e,t){},908:function(e,t){},934:function(e,t){}},[[1154,1,2]]]);
//# sourceMappingURL=main.4a2cdee4.chunk.js.map